<ips:template parameters="$ticket, $actions, $form"/>
<style>{{$return .= \IPS\vssupport\Color::getLabelColorCssBlock();}}</style>
{{$createLink = \IPS\Http\Url::internal('app=vssupport&module=tickets&controller=tickets&do=create', seoTemplate: 'tickets_create');}}
<h2 class="ipsTitle ipsTitle--h2">{{if $ticket['flags'] & \IPS\vssupport\TicketFlags::Locked}}<i class="fa-solid fa-lock"></i> {{endif}}{$ticket['subject']} <span class="i-color_soft i-font-size_3">#{$ticket['id']}</span> {template="button" app="core" group="forms" location="global" params="'ticket_create', 'link', $createLink, 'ipsButton ipsButton--primary i-font-size_1 i-float_end', ['tabindex' => 1, 'accesskey' => 'c']"}</h2>
<h3 class="ipsTitle--h3">{lang="ticket_category_{$ticket['category']}_name"} {template="ticketLabel" location="global" group="tickets" params="'prio', $ticket['priority']"}, {template="ticketLabel" location="global" group="tickets" params="'status', $ticket['status']"} <small class="i-color_soft i-font-size_-1">started <i class="fa-solid fa-clock"></i>&nbsp;{{$return .= \IPS\vssupport\format_local_date_time($ticket['created'])->html(true);}}</small></h3>
<div style="display: flex; flex-direction: column; gap: 1em;">
	{{foreach $actions as $action}}
		{template="action" location="global" group="tickets" params="$action"}
	{{endforeach}}
	{{if $ticket['flags'] & \IPS\vssupport\TicketFlags::Locked}}
		<div class="ipsBox i-padding_2 i-text-align_center i-background_moderated">{lang="ticket_locked"}</div>
	{{else}}
		{$form|raw}
	{{endif}}
</div>